<!-- custom js theme switcher -->
<script nonce="{{ csp_nonce() }}" src="../static/js/theme.js"></script>

<!-- the actual button -->
<div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle border border-secondary rounded">
  <button class="btn bg-body py-2 dropdown-toggle d-flex align-items-center"
          id="bd-theme"
          type="button"
          aria-expanded="false"
          data-bs-toggle="dropdown"
          aria-label="Toggle theme (auto)">
    <i class="bi bi-circle-half my-1 theme-icon-active"><use href="#circle-half"></use></i>
    <span class="visually-hidden" id="bd-theme-text">Toggle theme</span>
  </button>
  <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text">
    <li>
      <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
        <i class="bi bi-moon-fill theme-icon" width="1em" height="1em"><use href="#moon-stars-fill"></use></i> &nbsp
        Dark
        <!-- why does this break if i remove this -->
        <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg>
      </button>
    </li>
    <li>
      <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
        <i class="bi bi-sun-fill" width="1em" height="1em"><use href="#sun-fill"></use></i> &nbsp
        Light
        <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg>
      </button>
    </li>
    <li>
      <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
        <i class="bi bi-circle-half" width="1em" height="1em"><use href="#circle-half"></use></i> &nbsp
        Auto
        <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg>
      </button>
    </li>
  </ul>
</div>
